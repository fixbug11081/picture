if (self.CavalryLogger) { CavalryLogger.start_js(["ZRJcS"]); }

__d("LeftNavFitToHeight",["csx","cx","Arbiter","Bootloader","CSS","DOMDimensions","DOMQuery","Parent","Run","UserAgent","throttle"],(function(a,b,c,d,e,f,g,h){var i=null,j=null,k=!1,l=null,m,n="fixed_elem",o=b("UserAgent").isDevice("iPad"),p=b("UserAgent").isPlatform("Android >= 6")&&b("UserAgent").isBrowser("Chrome >= 49"),q={MIN_CHILDREN:1,MAX_CHILDREN:5,TOP_MARGIN:43,BOTTOM_MARGIN:78,init:function(a){i=a,j=b("Parent").bySelector(i,"._1qkq > #pagelet_navigation"),j&&(b("CSS").addClass(j,n),(o||p)&&(b("Bootloader").loadModules(["UITinyViewportAction"],function(a){a=a.isTiny();j&&b("CSS").conditionClass(j,n,!a)},"LeftNavFitToHeight"),l=b("Arbiter").subscribe("tinyViewport/change",function(a,c){a=c.tiny;j&&(o||p)&&b("CSS").conditionClass(j,n,!a)})),r(),window.addEventListener("resize",r),b("Run").onLeave(q.destroy))},destroy:function(){j&&b("CSS").removeClass(j,n),i=null,j=null,k=!1,window.removeEventListener("resize",r),l&&b("Arbiter").unsubscribe(l),m&&m.cancel()}},r=b("throttle")(function(){i&&u(i)});function s(a){k||(k=!0,b("Bootloader").loadModules(["LeftNavScrollable"],function(b){b.init(a)},"LeftNavFitToHeight"))}function t(a){var c=b("DOMQuery").scry(a,"#pinnedNav ul")[0];a=b("DOMQuery").scry(a,"#appsNav ul")[0];return{shortcutsContainer:c,exploreContainer:a}}function u(a){var c=t(a),d=c.shortcutsContainer;c=c.exploreContainer;var e=!!d+!!c;if(!x(a,d,c)){s(a);return}var f=A(d,c);if(!f){s(a);return}var g=w(a,d,c);g=Math.floor(g/f);f=d?b("DOMQuery").scry(d,"li.sideNavItem"):[];d=c?b("DOMQuery").scry(c,"li.sideNavItem"):[];c=v(g,f.length,d.length);var h=c.shortcutsCount,i=c.exploreCount,j="_3odl";f.forEach(function(a,c){b("CSS").conditionClass(a,j,c>=h)});d.forEach(function(a,c){b("CSS").conditionClass(a,j,c>=i)});g<q.MIN_CHILDREN*e&&s(a)}function v(a,b,c){var d=Math.max(Math.floor(a/2),q.MIN_CHILDREN);d=Math.min(d,b,q.MAX_CHILDREN);b=Math.max(a-d,q.MIN_CHILDREN);b=Math.min(b,c,q.MAX_CHILDREN);return{exploreCount:b,shortcutsCount:d}}function w(a){for(var c=arguments.length,d=new Array(c>1?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];var f=d.reduce(function(a,c){return c!=null?a+b("DOMDimensions").getElementDimensions(c).height:a},0),g=b("DOMDimensions").getElementDimensions(a).height;return window.innerHeight-(g-f)-(q.TOP_MARGIN+q.BOTTOM_MARGIN)}function x(a){for(var c=arguments.length,d=new Array(c>1?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];return a&&b("DOMQuery").contains(window.document.body,a)&&y(d)}function y(a){return a.some(function(a){return z(a)})}function z(a){return a!=null&&b("CSS").matchesSelector(a,"._5pyq")}function A(){for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];var e=B(c);return e!=null?b("DOMDimensions").getElementDimensions(e).height:0}function B(a){var c="li.sideNavItem";for(var a=a,d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;if(f!=null){f=b("DOMQuery").scry(f,c)[0];if(f!=null)return f}}return null}e.exports=q}),null);
__d("LitestandComposer",["csx","Arbiter","Bootloader","Parent","ReactComposerEvents","ReactComposerIDGenerator","Run","SubscriptionsHandler","ge"],(function(a,b,c,d,e,f,g){var h=600,i={};function j(a,c,d,e){b("Bootloader").loadModules(["Animation","ComposerXController","ComposerXMarauderLogger","DOM","LitestandStream"],function(f,g,k,l,m){if(!m.isReady()){m.addReadyListener(function(){j(a,c,d,e)});return}b("ReactComposerIDGenerator").isComposerID(a)||g.reset(a);if(!m||!c)return;if(i[a]){l.insertAfter(i[a],c);g=i[a].parentNode;g&&g.removeChild(i[a]);delete i[a]}else d===null?l.prependContent(m.getStreamRoot(),c):l.insertAfter(d,c);new f(c).from("opacity",0).to("opacity",1).duration(h).go();k.logCompleted(a);e&&e();b("Arbiter").inform("LitestandComposer/publishCompleted",{story:c})},"LitestandComposer")}var k={},l={initComposer:function(a){k[a]&&l.destructComposer(a),k[a]=new(b("SubscriptionsHandler"))(),k[a].addSubscriptions(b("Arbiter").subscribe("LitestandComposer/publish",function(c,d){if(d.composer_id===a){c=b("ge")(a);c=c!==null?b("Parent").bySelector(c,"._l2u"):null;j(a,d.markup,c,function(){var a=d.markup;if(a){var c=a.id;c||(c="random_id_for_litestand_context_"+Math.random(),a.id=c);b("Arbiter").inform("LitestandComposer/attachedToDOM",c)}})}}),b("Arbiter").subscribe("LitestandComposer/publishTemp",function(b,c){c.composer_id===a&&j(a,c.markup,null,function(){c.markup&&(i[a]=c.markup)})}),b("Arbiter").subscribe(b("ReactComposerEvents").COMPOSER_UNMOUNT+a,l.destructComposer.bind(null,a))),b("Run").onLeave(l.destructComposer.bind(null,a))},destructComposer:function(a){var b=k[a];b!=null&&(b.release(),delete k[a])}};e.exports=l}),null);
__d("LitestandClassicRHC",["Arbiter","BigPipe","DOMQuery","NavigationMessage","Run","SubscriptionsHandler"],(function(a,b,c,d,e,f){function g(a,c){var d=new(b("SubscriptionsHandler"))(),e=d.release.bind(d);a=b("DOMQuery").scry(a,".pagelet");var f=a.length;d.addSubscriptions(c.subscribe(a.map(function(a){return a.id+"_displayed"}),function(){--f===0&&(b("Arbiter").inform("LitestandClassicRHC/loaded"),e())}),b("Arbiter").subscribe(b("NavigationMessage").NAVIGATION_BEGIN,e),c.subscribeOnce(b("BigPipe").Events.displayed,function(){b("Arbiter").inform("LitestandClassicRHC/loaded"),e()}));b("Run").onLeave(e)}a={init:function(a){var c=b("BigPipe").getCurrentInstance();c&&c.arbiter?g(a,c.arbiter):b("Arbiter").subscribeOnce("BigPipe/init",function(b,c){g(a,c.arbiter)},"new")}};e.exports=a}),null);
__d("FeedReactComposerBootloadPerfTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:FeedReactComposerBootloadPerfLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:FeedReactComposerBootloadPerfLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:FeedReactComposerBootloadPerfLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setBootloadDurationMillis=function(a){this.$1.bootload_duration_millis=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={bootload_duration_millis:!0,time:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("FBStoriesPrivacySelectorClickHandler",["Bootloader","CSS","Event","Run","SubscriptionsHandler"],(function(a,b,c,d,e,f){"use strict";a={registerForClick:function(a){var c=a.button,d=a.buttonIcon,e=a.buttonSpinner,f=a.container,g=a.privateSharingOn,h=a.menuAlignh,i=a.menuPosition,j=new(b("SubscriptionsHandler"))();j.addSubscriptions(b("Event").listen(c,"click",function(a){a.stopPropagation(),b("CSS").hide(d),b("CSS").show(e),b("Bootloader").loadModules(["FBStoriesPrivacySelector"],function(a){a.onClick({buttonIcon:d,buttonSpinner:e,container:f,privateSharingOn:g,menuAlignh:h,menuPosition:i})},"FBStoriesPrivacySelectorClickHandler")}));b("Run").onBeforeUnload(function(){j.release()})}};e.exports=a}),null);
__d("FeedComposerIDStore",["Arbiter","ReactComposerEvents","SubscriptionsHandler"],(function(a,b,c,d,e,f){"use strict";a={_composerID:null,_subscriptions:b("SubscriptionsHandler"),set:function(a){this._subscriptions=new(b("SubscriptionsHandler"))(),this._composerID=a,this._subscribeComposerResetEvent()},get:function(){if(!this._composerID)throw new Error("ID Store has not yet been initialized via set()");return this._composerID},_subscribeComposerResetEvent:function(){var a=this;if(!this._composerID)throw new Error("Composer ID cannot be null");var c=b("Arbiter").subscribeOnce(b("ReactComposerEvents").COMPOSER_RESET+this._composerID,function(b,c){c&&c.newComposerID&&(a._composerID=c.newComposerID,a._subscribeComposerResetEvent())});this._subscriptions.addSubscriptions(c)}};e.exports=a}),null);
__d("XReactFeedSproutsComposerXBootloadController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/react_composer/feedx_sprouts/bootload/",{composer_id:{type:"String",required:!0},composer_type:{type:"Enum",required:!0,enumType:1},friend_list_id:{type:"String"},target_id:{type:"String",required:!0}})}),null);
__d("ReactFeedSproutsComposerX",["csx","cx","invariant","requireCond","Arbiter","AsyncRequest","cr:1248097","Bootloader","Button","CSS","DOM","Event","FeedComposerIDStore","FeedReactComposerBootloadPerfTypedLogger","LitestandComposer","React","ReactComposerAttachmentType","ReactComposerEvents","ReactComposerFocusActions","ReactComposerFocusInit","ReactComposerStoryArchiveIntroductionDialogGatedModule","ReactDOM","Run","SubscriptionsHandler","XReactFeedSproutsComposerXBootloadController","$"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React"),k=b("ReactComposerStoryArchiveIntroductionDialogGatedModule").module,l=!0;a=function(){function a(a){var c=this;this.$35=function(a){if(!c.$9)return;c.$20&&b("Button").setEnabled(c.$20,c.$18.size!=0&&c.$16.value.length!=0);if(!c.$9.textEligibleForStory)return;a=c.$16.value.match(/\n/g)||[];c.$9.maxTextLengthForStory&&c.$16.value.length>c.$9.maxTextLengthForStory||c.$9.maxLinesForStory&&a.length>=c.$9.maxLinesForStory?(c.$24&&b("CSS").addClass(c.$24,"_3560"),c.$18["delete"]("STORIES")&&(c.$24&&b("CSS").removeClass(c.$24,"_1sfg"),c.$19.add("STORIES"))):(c.$24&&b("CSS").removeClass(c.$24,"_3560"),c.$19["delete"]("STORIES")&&(c.$24&&b("CSS").addClass(c.$24,"_1sfg"),c.$18.add("STORIES")));c.$20&&b("Button").setEnabled(c.$20,c.$18.size!=0&&c.$16.value.length!=0)};this.$28=function(a){if(!c.$9||!c.$9.sharingSpacesDestinationPicker&&!c.$9.oneStepDestinationPicker)return!0;c.$20&&b("Button").setEnabled(c.$20,!1);if(c.$18&&c.$18.has("STORIES")&&c.$21){a={composerID:c.$3,targetID:c.$15,actorID:c.$1,text:c.$16.value,successHandler:c.$27};c.$21.postToStory(a)}return c.$18&&c.$18.has("TIMELINE")?!0:!1};this.$32=function(a){a=a.getTarget();var d=null;while(a){if(a.nodeType===1&&a.nodeName==="A"){d=a;break}a=a.parentNode}d!==null||i(0,2217);a=b("CSS").hasClass(d,"._5qtn");if(a)return;c.$11.forEach(function(a){return b("CSS").removeClass(a,"_5qtn")});b("CSS").addClass(d,"_5qtn");a=b("DOM").find(c.$10,"._559p");var e=b("DOM").find(c.$10,"._559q");switch(d.getAttribute("data-attachment-type")){case b("ReactComposerAttachmentType").STATUS:b("CSS").hide(e);b("CSS").show(a);break;case b("ReactComposerAttachmentType").MEDIA:case b("ReactComposerAttachmentType").LIVE_VIDEO:b("CSS").show(e);b("CSS").hide(a);break;case b("ReactComposerAttachmentType").ALBUM:c.$9&&c.$9.albumTabUsesSelector&&c.$36();break;case b("ReactComposerAttachmentType").POST_TO_GROUP:b("Bootloader").loadModules(["XReactComposerPostToGroupLoggingODSController","ReactComposerPostToGroupLoggingEvent"],function(a,c){a=a.getURIBuilder().setString("event",c.CLICK_OUTER_TAB).getURI();new(b("AsyncRequest"))(a).send()},"ReactFeedSproutsComposerX");break}};this.$26=function(a){c.$9&&c.$9.lazySproutsExpand||c.$37();if(c.$2||!c.$25)return;c.$21&&c.$21.bootload();c.$17=Date.now();c.$2=!0;a=b("XReactFeedSproutsComposerXBootloadController").getURIBuilder().setString("composer_id",c.$3).setString("target_id",c.$15).setEnum("composer_type",c.$4).setString("friend_list_id",c.$6).getURI();new(b("AsyncRequest"))(a).send()};this.$31=function(){b("CSS").removeClass(c.$10,"_4qr4"),b("CSS").addClass(c.$10,"_4a8c")};this.$30=function(){c.$31(),c.$16.value="",b("CSS").removeClass(c.$10,"_2-q9")};this.$29=function(){c.$14.release()};this.$27=function(){c.$20&&b("Button").setEnabled(c.$20,!0),b("Arbiter").inform(b("ReactComposerEvents").POST_SUCCEEDED+c.$3),c.$30(),c.$18&&c.$18.has("STORIES")&&l&&(k&&(b("ReactDOM").render(j.jsx(k,{}),b("DOM").create("div")),l=!1))};this.$22=!1;this.$1=a.actorID;this.$10=a.root;this.$3=a.composerID;this.$15=a.targetID;this.$4=a.composerType;this.$6=a.friendListID;this.$7=a.largeTextThreshold;this.$9=a.gks;this.$21=a.jsModules.postModule;this.$25=a.loadReact;this.$8=!1;this.$2=!1;this.$5=b("DOM").find(this.$10,"form");this.$16=b("DOM").find(this.$10,"._3en1");this.$13=b("DOM").find(this.$10,"._16ve");this.$18=new Set();this.$19=new Set();b("FeedComposerIDStore").set(this.$3);a.isBOCComposer||b("LitestandComposer").initComposer(a.composerID);this.$14=new(b("SubscriptionsHandler"))();this.$14.addSubscriptions(b("Event").listen(this.$16,"focus",this.$26),b("Event").listen(this.$10,"click",this.$26),b("Event").listen(this.$5,"success",this.$27),b("Event").listen(this.$5,"submit",this.$28),b("Arbiter").subscribeOnce("ReactFeedComposerXBootloader/bootload/"+this.$3,function(){new(b("FeedReactComposerBootloadPerfTypedLogger"))().setBootloadDurationMillis(Date.now()-c.$17).log(),c.$29()}),b("Arbiter").subscribeOnce("ReactFeedComposerXBootloader/selectcomposer/"+this.$3,this.$26),b("Arbiter").subscribe("ReactComposerFocus/reset/"+this.$3,this.$30),b("Arbiter").subscribe("ReactComposerFocus/collapse/"+this.$3,this.$31),b("Arbiter").subscribe(b("ReactComposerEvents").TEXT_PREFILL_BEFORE_BOOTLOAD+this.$3,function(a,b){c.$16.value=b,c.$16.selectionEnd=0}),b("Arbiter").subscribe("ReactFeedSproutsComposerXBody/onDrop",this.$26));this.$11=b("DOM").scry(this.$10,"._4-h7");this.$11.forEach(function(a){return c.$14.addSubscriptions(b("Event").listen(a,"click",c.$32))});this.$12=b("DOM").scry(this.$10,"._m_1");this.$12.forEach(function(a){return c.$14.addSubscriptions(b("Event").listen(a,"click",function(){c.$33(a)}))});var d=b("DOM").scry(this.$10,"._2mo4");d.length===1&&this.$14.addSubscriptions(b("Event").listen(d[0],"click",function(){if(c.$8)return;c.$8=!0;b("Arbiter").subscribeOnce("ReactFeedComposerXBootloader/bootload/"+c.$3,function(a,d){b("Bootloader").loadModules(["LiveVideoBroadcastUtils"],function(a){a.startPreviewUI(d.contextConfig,d.config),c.$8=!1},"ReactFeedSproutsComposerX")});b("Bootloader").loadModules(["LiveVideoBroadcastUtils"],function(){},"ReactFeedSproutsComposerX")}));this.$9&&(this.$9.sharingSpacesDestinationPicker||this.$9.oneStepDestinationPicker)&&this.$34();d=(d=a.container)!=null?d:b("$")("feedx_sprouts_container");var e=a.reactComposerFocusExtraConfigData;e&&e.showDialogForP2PAdminsMetadata&&e.showDialogForP2PAdminsMetadata.showDialogForP2PAdmins&&a.jsModules.P2PNewAdminComposerFocus?b("ReactComposerFocusInit").handler(d,this.$3,this.$1,this.$9,a.jsModules.P2PNewAdminComposerFocus,!1,a.reactComposerFocusExtraConfigData):a.jsModules&&a.jsModules.composerFocus&&b("ReactComposerFocusInit").handler(d,this.$3,this.$1,this.$9,a.jsModules.composerFocus,!1,a.reactComposerFocusExtraConfigData);a.isBOCComposer&&(this.$26(),b("ReactComposerFocusActions").notifyFocusAcquired(this.$3),b("Arbiter").subscribeOnce(b("ReactComposerEvents").OPTIMISTIC_POSTING_STARTED+this.$3,function(){b("cr:1248097")&&b("cr:1248097").sendMessage({compatAction:"submitting-post"})}),b("Arbiter").subscribeOnce(b("ReactComposerEvents").POST_SUCCEEDED+this.$3,function(){b("cr:1248097")&&b("cr:1248097").sendMessage({compatAction:"hide-toast"}),b("cr:1248097")&&b("cr:1248097").sendMessage({compatAction:"dialog-hide"})}));b("Run").onLeave(this.$29)}var c=a.prototype;c.$36=function(){var a=this,c=b("DOM").find(this.$10,"._559p"),d=b("DOM").find(this.$10,"._559q");b("Arbiter").subscribeOnce("ReactFeedComposerXBootloader/bootload/"+this.$3,function(){b("Bootloader").loadModules(["ReactComposerCollectionsActions","ReactComposerLoggingName"],function(b,c){b.showCollectionsSelector(a.$3,c.ALBUM_TAB_SELECTOR)},"ReactFeedSproutsComposerX"),a.$29()});b("CSS").show(d);b("CSS").hide(c)};c.$33=function(a,c){c=a.getAttribute("data-sprout-tagger-id");if(c){var d=b("DOM").find(this.$13,"._16vl");d=b("DOM").find(d,'*[data-sprout-tagger-id="'+c+'"]');b("CSS").addClass(d,"_30lm");this.$13.setAttribute("data-selected-sprout-id",c)}else b("CSS").matchesSelector(a,"._1gr3")&&(this.$9&&this.$9.lazySproutsExpand&&this.$37())};c.$34=function(){var a=this;this.$23=b("DOM").scry(this.$10,"._3h0d")[0];this.$14.addSubscriptions(b("Event").listen(this.$16,"input",this.$35));this.$20=b("DOM").find(this.$10,"._ej1");this.$20&&b("Button").setEnabled(this.$20,!1);var c=b("DOM").scry(this.$10,"._66-n");c.forEach(function(b){return a.$38(b)});this.$23&&this.$14.addSubscriptions(b("Event").listen(this.$23,"click",function(){a.$39()}));this.$9&&this.$9.defaultDestination==="STORIES"?this.$18.add("STORIES"):this.$18.add("TIMELINE")};c.$39=function(a){this.$22=!0};c.$38=function(a){var c=this;a.getAttribute("data-destination")=="STORIES"&&(this.$24=a,this.$9&&!this.$9.textEligibleForStory&&b("CSS").addClass(a,"_3560"));this.$14.addSubscriptions(b("Event").listen(a,"click",function(){c.$40(a)}))};c.$40=function(a,c){if(this.$22){this.$22=!1;return}b("CSS").toggleClass(a,"_1sfg");c=a.dataset.destination;this.$18.has(c)?this.$18["delete"](c):this.$18.add(c);this.$20&&b("Button").setEnabled(this.$20,this.$18.size!=0&&this.$16.value.length!=0)};c.$37=function(){b("CSS").addClass(this.$10,"_4qr4"),b("CSS").removeClass(this.$10,"_4a8c")};return a}();e.exports=a}),null);
__d("ReactFeedSproutsComposerXStoryPost",["BanzaiODS","Bootloader","ComposerStoryCreateMutationWebGraphQLMutation","WebGraphQLLegacyHelper","XWebGraphQLMutationController","uuid"],(function(a,b,c,d,e,f){"use strict";a={bootload:function(){b("Bootloader").loadModules(["ReactComposerAsyncRequest"],function(){},"ReactFeedSproutsComposerXStoryPost")},postToStory:function(a){var c=b("ComposerStoryCreateMutationWebGraphQLMutation").__getDocID(),d=b("WebGraphQLLegacyHelper").getURI({controller:b("XWebGraphQLMutationController"),docID:c});c=[{stories:{self:{target_id:a.targetID}}}];var e={actor_id:a.actorID,client_mutation_id:b("uuid")(),source:"WWW",audiences:c,message:{text:a.text,ranges:[]}};b("Bootloader").loadModules(["ReactComposerAsyncRequest"],function(c){c=new c(a.composerID,d).setHandler(a.successHandler).setData({variables:JSON.stringify({client_mutation_id:b("uuid")(),actor_id:a.actorID,input:e})});c.send();b("BanzaiODS").bumpEntityKey(2966,"webgraphml_publish","hit")},"ReactFeedSproutsComposerXStoryPost")}};e.exports=a}),null);